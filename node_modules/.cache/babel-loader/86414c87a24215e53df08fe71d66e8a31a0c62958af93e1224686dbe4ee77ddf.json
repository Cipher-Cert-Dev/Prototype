{"ast":null,"code":"import _slicedToArray from \"D:/CC/test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useEffect } from 'react';\nimport { WindowContext } from './context';\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function WindowProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isActiveWindow = _useState2[0],\n    setActiveWindow = _useState2[1];\n  useEffect(function () {\n    if (typeof document === 'undefined') {\n      return;\n    }\n    var visibilityChangeListener = function visibilityChangeListener() {\n      switch (document.visibilityState) {\n        case 'hidden':\n          setActiveWindow(false);\n          break;\n        case 'visible':\n          setActiveWindow(true);\n          break;\n      }\n    };\n    document.addEventListener('visibilitychange', visibilityChangeListener);\n    return function () {\n      return document.removeEventListener('visibilitychange', visibilityChangeListener);\n    };\n  }, []);\n  return _jsx(WindowContext.Provider, {\n    value: isActiveWindow,\n    children: children\n  });\n}","map":{"version":3,"names":["useState","useEffect","WindowContext","WindowProvider","_ref","children","_useState","_useState2","_slicedToArray","isActiveWindow","setActiveWindow","document","visibilityChangeListener","visibilityState","addEventListener","removeEventListener","_jsx","Provider","value"],"sources":["D:\\CC\\test\\node_modules\\@usedapp\\core\\src\\providers\\window\\provider.tsx"],"sourcesContent":["import { ReactNode, useState, useEffect } from 'react'\nimport { WindowContext } from './context'\n\ninterface Props {\n  children: ReactNode\n}\n\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function WindowProvider({ children }: Props) {\n  const [isActiveWindow, setActiveWindow] = useState(true)\n\n  useEffect(() => {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    const visibilityChangeListener = () => {\n      switch (document.visibilityState) {\n        case 'hidden':\n          setActiveWindow(false)\n          break\n        case 'visible':\n          setActiveWindow(true)\n          break\n      }\n    }\n    document.addEventListener('visibilitychange', visibilityChangeListener)\n    return () => document.removeEventListener('visibilitychange', visibilityChangeListener)\n  }, [])\n\n  return <WindowContext.Provider value={isActiveWindow} children={children} />\n}\n"],"mappings":";;AAAA,SAAoBA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACtD,SAASC,aAAa,QAAQ,WAAW;AAMzC;;;AAGA,OAAM,SAAUC,cAAcA,CAAAC,IAAA,EAAoB;EAAA,IAAjBC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EACvC,IAAAC,SAAA,GAA0CN,QAAQ,CAAC,IAAI,CAAC;IAAAO,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAjDG,cAAc,GAAAF,UAAA;IAAEG,eAAe,GAAAH,UAAA;EAEtCN,SAAS,CAAC,YAAK;IACb,IAAI,OAAOU,QAAQ,KAAK,WAAW,EAAE;MACnC;;IAGF,IAAMC,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAA,EAAQ;MACpC,QAAQD,QAAQ,CAACE,eAAe;QAC9B,KAAK,QAAQ;UACXH,eAAe,CAAC,KAAK,CAAC;UACtB;QACF,KAAK,SAAS;UACZA,eAAe,CAAC,IAAI,CAAC;UACrB;;IAEN,CAAC;IACDC,QAAQ,CAACG,gBAAgB,CAAC,kBAAkB,EAAEF,wBAAwB,CAAC;IACvE,OAAO;MAAA,OAAMD,QAAQ,CAACI,mBAAmB,CAAC,kBAAkB,EAAEH,wBAAwB,CAAC;IAAA;EACzF,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOI,IAAA,CAACd,aAAa,CAACe,QAAQ;IAACC,KAAK,EAAET,cAAc;IAAEJ,QAAQ,EAAEA;EAAQ,EAAI;AAC9E"},"metadata":{},"sourceType":"module","externalDependencies":[]}