{"ast":null,"code":"import _regeneratorRuntime from\"D:/CC/test/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/CC/test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/CC/test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Web3 from\"web3\";import StudentNFTABI from\"./StudentNFT.json\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var contractAddress=\"0xEB61dDD0eD37E99B478943621b15933D0D6Aca9F\";function App(){var _ref,_ref2;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),web3=_useState2[0],setWeb3=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),contract=_useState4[0],setContract=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),contractInitialized=_useState8[0],setContractInitialized=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),inputName=_useState10[0],setInputName=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),inputId=_useState12[0],setInputId=_useState12[1];var calloT=function calloT(){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var web3Instance;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!window.ethereum){_context.next=11;break;}web3Instance=new Web3(window.ethereum);_context.prev=2;_context.next=5;return window.ethereum.request({method:\"eth_requestAccounts\"});case 5:setWeb3(web3Instance);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);console.error(\"User denied account access\");case 11:case\"end\":return _context.stop();}},_callee,null,[[2,8]]);}))).apply(this,arguments);};useEffect(function(){var _loadContract;function loadContract(){return(_loadContract=_loadContract||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var contractInstance;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(web3){try{contractInstance=new web3.eth.Contract(StudentNFTABI,contractAddress);setContract(contractInstance);setContractInitialized(true);}catch(error){console.error(\"Error initializing contract:\",error);}}case 1:case\"end\":return _context2.stop();}},_callee2);}))).apply(this,arguments);}if(web3){loadContract();}},[web3]);var mintStudent=function mintStudent(){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var accounts,name,id;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;if(!contractInitialized){_context3.next=18;break;}_context3.next=4;return web3.eth.getAccounts();case 4:accounts=_context3.sent;if(!(accounts.length>0)){_context3.next=15;break;}name=inputName;id=parseInt(inputId);console.log(name);console.log(id);_context3.next=12;return contract.methods.mintStudent(name,id).send({from:accounts[0]});case 12:setMessage(\"Student NFT minted successfully.\");_context3.next=16;break;case 15:console.error(\"No Ethereum accounts available.\");case 16:_context3.next=19;break;case 18:console.error(\"Contract not initialized.\");case 19:_context3.next=24;break;case 21:_context3.prev=21;_context3.t0=_context3[\"catch\"](0);console.error(\"Error minting student NFT:\",_context3.t0);case 24:case\"end\":return _context3.stop();}},_callee3,null,[[0,21]]);}))).apply(this,arguments);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:calloT,children:\"Connect Wallet\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputName,onChange:function onChange(e){return setInputName(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"ID:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:inputId,onChange:function onChange(e){return setInputId(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:mintStudent,disabled:!contractInitialized,children:\"Mint Student NFT\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Message:\"}),\" \",message]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Web3","StudentNFTABI","jsx","_jsx","jsxs","_jsxs","contractAddress","App","_ref","_ref2","_useState","_useState2","_slicedToArray","web3","setWeb3","_useState3","_useState4","contract","setContract","_useState5","_useState6","message","setMessage","_useState7","_useState8","contractInitialized","setContractInitialized","_useState9","_useState10","inputName","setInputName","_useState11","_useState12","inputId","setInputId","calloT","_asyncToGenerator","_regeneratorRuntime","mark","_callee","web3Instance","wrap","_callee$","_context","prev","next","window","ethereum","request","method","t0","console","error","stop","apply","arguments","_loadContract","loadContract","_callee2","contractInstance","_callee2$","_context2","eth","Contract","mintStudent","_callee3","accounts","name","id","_callee3$","_context3","getAccounts","sent","length","parseInt","log","methods","send","from","className","children","onClick","type","value","onChange","e","target","disabled"],"sources":["D:/CC/test/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Web3 from \"web3\";\nimport StudentNFTABI from \"./StudentNFT.json\";\n\nconst contractAddress = \"0xEB61dDD0eD37E99B478943621b15933D0D6Aca9F\";\n\nfunction App() {\n  const [web3, setWeb3] = useState(null);\n  const [contract, setContract] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const [contractInitialized, setContractInitialized] = useState(false);\n  const [inputName, setInputName] = useState(\"\");\n  const [inputId, setInputId] = useState(\"\");\n\n  const calloT = async () => {\n    if (window.ethereum) {\n      const web3Instance = new Web3(window.ethereum);\n      try {\n        await window.ethereum.request({ method: \"eth_requestAccounts\" });\n        setWeb3(web3Instance);\n      } catch (error) {\n        console.error(\"User denied account access\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    async function loadContract() {\n      if (web3) {\n        try {\n          const contractInstance = new web3.eth.Contract(\n            StudentNFTABI,\n            contractAddress\n          );\n          setContract(contractInstance);\n          setContractInitialized(true);\n        } catch (error) {\n          console.error(\"Error initializing contract:\", error);\n        }\n      }\n    }\n\n    if (web3) {\n      loadContract();\n    }\n  }, [web3]);\n\n  const mintStudent = async () => {\n    try {\n      if (contractInitialized) {\n        const accounts = await web3.eth.getAccounts();\n        if (accounts.length > 0) {\n          const name = inputName;\n          const id = parseInt(inputId);\n          console.log(name);\n          console.log(id);\n          await contract.methods\n            .mintStudent(name, id)\n            .send({ from: accounts[0] });\n          setMessage(\"Student NFT minted successfully.\");\n        } else {\n          console.error(\"No Ethereum accounts available.\");\n        }\n      } else {\n        console.error(\"Contract not initialized.\");\n      }\n    } catch (error) {\n      console.error(\"Error minting student NFT:\", error);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <button onClick={calloT}>Connect Wallet</button>\n      <div>\n        <label>\n          Name:\n          <input\n            type=\"text\"\n            value={inputName}\n            onChange={(e) => setInputName(e.target.value)}\n          />\n        </label>\n      </div>\n      <div>\n        <label>\n          ID:\n          <input\n            type=\"number\"\n            value={inputId}\n            onChange={(e) => setInputId(e.target.value)}\n          />\n        </label>\n      </div>\n      <button onClick={mintStudent} disabled={!contractInitialized}>\n        Mint Student NFT\n      </button>\n      <div>\n        <h1>Message:</h1> {message}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}